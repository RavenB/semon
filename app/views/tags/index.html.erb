<section class="content-header">
  <h1>
    <%= @campaign.c_name %>
    <small>Stichworte</small>
  </h1>
  <ol class="breadcrumb">
    <li><a href="/"><i class="fa fa-th"></i> Alle Kampagnen</a></li>
    <li class="active"><a href="#"><%= @campaign.c_name %> Stichworte</a></li>
  </ol>
</section>

<section class="content">
  <div class="row">
    <div class="col-md-12">
      <div class="box box-success">
        <div class="box-header with-border">
          <h3 class="box-title">Verwalte die Stichworte für Deine Kampagne:</h3>
        </div>
        <div class="box-body">
          <%= form_for(@tag, remote: true, html: { role: "form" }) do |f| %>
            <div class="input-group">
              <%= f.hidden_field :campaign_id, value: @campaign.id %>
              <%= f.text_field :t_name, class: "form-control", placeholder: "Stichwort" %>
              <span class="input-group-btn">
                <%= f.submit "Hinzufügen", class: "btn btn-success" %>
              </span>
            </div>
          <% end %>

          <%# https://github.com/jonmiles/bootstrap-treeview %>
          <%# https://jonmiles.github.io/bootstrap-treeview %>
          <%# http://www.jqueryscript.net/layout/Nice-Tree-View-Plugin-with-jQuery-Bootstrap-3-Easy-Tree.html %>

        </div>
        <div class="box-body">
          <div id="tree"></div>
          <div id="todo"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<% content_for :page_script do %>
  <script type="text/javascript">
    var treeData = JSON.parse('<%=j @tags_json %>');
    createTreeview('#tree', treeData);
  </script>
<% end %>
